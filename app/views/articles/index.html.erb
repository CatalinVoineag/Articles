<h1>Articles</h1>

<% flash.each do |type, msg| %>
  <div>
    <%= msg %>
  </div>
<% end %>

<table>
  <tr>
    <th>Article</th>
    <th>Image</th>
    <th>Likes</th>
    <th>Action</th>
  </tr>
  <% @articles.each do |article| %>
    <tr id=<%= "article_#{article.id}" %>>
      <td><%= article.title %></td>
      <td><%= image_tag(article.small_image) %></td>
      <td>
        <%= render partial: "likes/like",
          locals: { likes: article.likes, article_id: article.id }
        %>
      </td>
      <td><%= button_to "Like", article_like_path(article.id) %></td>
    </tr>
  <% end %>
</table>
